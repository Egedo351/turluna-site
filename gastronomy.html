<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gastronomy — Turluna</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Flags (full-bleed round) */
    .lang-switch.flags{display:flex;gap:8px;align-items:center;margin-left:auto}
    .lang-btn{width:32px;height:32px;border-radius:50%;border:1px solid #dcdcdc;background-size:cover;background-position:center;background-repeat:no-repeat;cursor:pointer;transition:transform .08s,box-shadow .08s;padding:0}
    .lang-btn:hover{transform:translateY(-1px)}
    .lang-btn.active{box-shadow:0 0 0 2px #111 inset}

    /* Long menu items: break into two lines */
    nav a.break{
      white-space: normal !important;
      display: inline-block;
      text-align: center;
      line-height: 1.15;
      width: 92px;
    }
    @media (max-width: 900px){
      nav a.break{ width:auto; }
    }

    /* Layout (sayfalarla aynı) */
    .page-wrap{max-width:1100px;margin:0 auto;padding:0 16px}
    .page-grid{display:grid;grid-template-columns:1.15fr .85fr;gap:32px;align-items:start}
    .side-media{display:flex;flex-direction:column;gap:16px}
    .hero-img{width:100%;border-radius:10px;display:block}

    /* Headings */
    h1{color:#006666;font-family:"Georgia",serif;font-size:2.2em}
    h2{margin-top:1.2em;font-size:1.4em}

    /* Newsletter form */
    .contact-form{display:grid;gap:12px}
    .contact-form label{display:grid;gap:6px;font-weight:600}
    .contact-form input{
      padding:10px;border:1px solid #ddd;border-radius:6px;font:inherit
    }
    .contact-form button{padding:10px 14px;border:none;border-radius:8px;background:#0b5;color:#fff;cursor:pointer}
    .contact-status{margin-top:8px}
    .hp-field{display:none}

    /* Responsive */
    @media (max-width:900px){
      .page-grid{grid-template-columns:1fr}
      .side-media{order:1}
      .main-content{order:2}
    }
  </style>
</head>
<body>
<header>
  <div class="container">
    <nav>
      <img src="logo.png.jpg" alt="Turluna logo" class="logo">

      <a href="index.html">About Us</a>
      <a href="holidays.html" class="break">Plan<br>Your Travel</a>
      <a href="health.html" class="break">Health<br>Tourism</a>
      <a href="sport.html"  class="break">Sport<br>Tourism</a>
      <a href="gastronomy.html">Gastronomy</a>

      <div class="lang-switch flags">
        <button class="lang-btn" data-lang="en" onclick="egedoSetLang('en')" aria-label="English"   style="background-image:url('https://flagcdn.com/w40/gb.png');"></button>
        <button class="lang-btn" data-lang="tr" onclick="egedoSetLang('tr')" aria-label="Türkçe"    style="background-image:url('https://flagcdn.com/w40/tr.png');"></button>
        <button class="lang-btn" data-lang="pt" onclick="egedoSetLang('pt')" aria-label="Português" style="background-image:url('https://flagcdn.com/w40/pt.png');"></button>
      </div>
    </nav>
  </div>
</header>

<main class="page-wrap">
  <section class="section">
    <div class="page-grid">
      <!-- LEFT: COPY -->
      <div class="main-content">
        <h1>Gastronomy</h1>

        <p>We proudly showcase the rich flavors of Turkish cuisine through pop-up events at unique venues in Lisbon.
          From traditional breakfasts to refined dinners, we bring authentic taste with modern touches. Our menus are
          curated with seasonal ingredients and presented with warm hospitality—so every event feels memorable and
          welcoming.</p>

        <h2>Pop-up tastings &amp; private events</h2>
        <p>We host curated tastings, themed nights, and special collaborations. Keep track of our calendar so you can
          secure your spot early.</p>
      </div>

      <!-- RIGHT: MEDIA + NEWSLETTER -->
      <aside class="side-media">
        <img src="img/gastronomy.png" alt="Gastronomy events by Turluna" class="hero-img">

        <div class="form-card">
          <h2>Get notified about our events</h2>
          <p>Subscribe to our newsletter to hear about pop-ups and special dinners in advance.</p>

          <form id="newsletter-form" class="contact-form">
            <label>
              <span>Name</span>
              <input type="text" name="name" required>
            </label>
            <label>
              <span>Email</span>
              <input type="email" name="email" required>
            </label>

            <!-- Honey-pot -->
            <input type="text" name="website" class="hp-field" autocomplete="off" tabindex="-1">

            <button type="submit">Subscribe</button>
            <div id="contact-status" class="contact-status"></div>
          </form>
        </div>
      </aside>
    </div>
  </section>
</main>

<footer>
  <div class="container">
    <small>© Turluna 2025 — All rights reserved.</small>
  </div>
</footer>

<script>
  // Newsletter submit → /api/contact
  document.addEventListener('DOMContentLoaded', function () {
    const form = document.getElementById('newsletter-form');
    const status = document.getElementById('contact-status');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      status.textContent = 'Sending...';

      const fd = new FormData(form);
      const payload = Object.fromEntries(fd.entries());
      // info@turluna.com'a giden e-postanın mesajına "Newsletter: Gastronomy" etiketi ekle
      payload.message = `[Newsletter: Gastronomy]\n\n` + (payload.message || '');

      try {
        const res = await fetch('/api/contact', {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify(payload)
        });
        const data = await res.json();
        if (res.ok && data.ok) {
          status.textContent = '✓ Subscribed. Thank you!';
          form.reset();
        } else {
          status.textContent = '✗ Failed to submit. Please try again.';
        }
      } catch (err) {
        status.textContent = '✗ Network error.';
      }
    });
  });
</script>
<script src="lang.js"></script>
</body>
</html>
